# MPV Input Configuration - Keyboard Shortcuts
# Custom keybindings for 4K TorBox streaming with monitoring

# ===== STATS & MONITORING (VRAM USAGE) =====
# Press these to see performance stats including VRAM
i script-binding stats/display-stats          # Show stats page 1 (basic info)
I script-binding stats/display-stats-toggle   # Toggle persistent stats display
shift+i script-binding stats/display-page-2   # Show stats page 2 (frame timing)
alt+i script-binding stats/display-page-3     # Show stats page 3 (cache stats)
ctrl+i script-binding stats/display-page-4    # Show stats page 4 (internal info - includes VRAM!)

# ===== PROFILE SWITCHING (FOR TESTING) =====
# Test different rendering backends for battery comparison
F1 apply-profile d3d11    ; show-text "Profile: DirectX 11 (Default)"
F2 apply-profile d3d12    ; show-text "Profile: DirectX 12 (Testing)"
F3 apply-profile vulkan   ; show-text "Profile: Vulkan (Backup)"
F4 apply-profile low-power ; show-text "Profile: Low Power Mode"

# ===== PLAYBACK CONTROLS =====
SPACE cycle pause                             # Play/Pause
p cycle pause                                 # Alternative play/pause
. frame-step                                  # Next frame (when paused)
, frame-back-step                             # Previous frame (when paused)

# Seeking
RIGHT seek 5                                  # Forward 5 seconds
LEFT seek -5                                  # Backward 5 seconds
UP seek 30                                    # Forward 30 seconds
DOWN seek -30                                 # Backward 30 seconds
PGUP seek 600                                 # Forward 10 minutes
PGDWN seek -600                               # Backward 10 minutes
shift+RIGHT seek 1 exact                      # Forward 1 second (exact)
shift+LEFT seek -1 exact                      # Backward 1 second (exact)

# Chapter navigation (if media has chapters)
> playlist-next                               # Next chapter/file
< playlist-prev                               # Previous chapter/file

# ===== VOLUME CONTROLS =====
UP add volume 2                               # Volume up 2%
DOWN add volume -2                            # Volume down 2%
m cycle mute                                  # Mute toggle
0 set volume 100                              # Reset volume to 100%

# ===== SPEED CONTROLS =====
[ multiply speed 0.9091                       # Decrease speed (10%)
] multiply speed 1.1                          # Increase speed (10%)
{ multiply speed 0.5                          # Half speed
} multiply speed 2.0                          # Double speed
BS set speed 1.0                              # Reset speed to normal

# ===== AUDIO & SUBTITLE TRACKS =====
# Cycle through audio tracks (for multi-audio files)
# cycle audio                                 # Next audio track
shift+# cycle audio down                      # Previous audio track

# Cycle through subtitle tracks
s cycle sub                                   # Toggle subtitles on/off
shift+s cycle sub down                        # Previous subtitle track
v cycle sub-visibility                        # Toggle subtitle visibility
z add sub-delay -0.1                          # Subtitle delay -100ms
x add sub-delay +0.1                          # Subtitle delay +100ms
shift+z add sub-scale -0.1                    # Decrease subtitle size
shift+x add sub-scale +0.1                    # Increase subtitle size

# ===== VIDEO ADJUSTMENTS =====
1 add contrast -1                             # Decrease contrast
2 add contrast 1                              # Increase contrast
3 add brightness -1                           # Decrease brightness
4 add brightness 1                            # Increase brightness
5 add gamma -1                                # Decrease gamma
6 add gamma 1                                 # Increase gamma
7 add saturation -1                           # Decrease saturation
8 add saturation 1                            # Increase saturation
ctrl+0 set contrast 0; set brightness 0; set gamma 0; set saturation 0  # Reset all

# ===== ASPECT RATIO & ZOOM =====
a cycle-values video-aspect-override "16:9" "16:10" "4:3" "2.35:1" "-1"  # Cycle aspect ratios
A cycle-values video-aspect-override "-1"    # Reset aspect ratio
alt+UP add video-zoom 0.1                    # Zoom in
alt+DOWN add video-zoom -0.1                 # Zoom out
alt+0 set video-zoom 0                       # Reset zoom

# ===== WINDOW CONTROLS =====
f cycle fullscreen                            # Toggle fullscreen
ESC set fullscreen no                         # Exit fullscreen
T cycle ontop                                 # Toggle always-on-top

# ===== SCREENSHOTS =====
S screenshot                                  # Screenshot (with subtitles)
ctrl+s screenshot video                       # Screenshot (video only, no subs)
alt+s screenshot window                       # Screenshot (entire window)

# ===== HARDWARE DECODER TOGGLE =====
# If you notice issues, disable hardware decoding temporarily
ctrl+h cycle-values hwdec "auto-safe" "no"   # Toggle hardware decoding on/off

# ===== ROTATION (if needed) =====
ctrl+r cycle-values video-rotate "0" "90" "180" "270"  # Rotate video

# ===== OSD (ON-SCREEN DISPLAY) =====
o cycle-values osd-level 3 1 0               # Cycle OSD level (detailed/basic/none)
shift+o show-progress                        # Show progress bar

# ===== PLAYLIST CONTROLS =====
ENTER playlist-next                          # Next file in playlist
shift+ENTER playlist-prev                    # Previous file in playlist

# ===== QUIT =====
q quit                                       # Quit MPV
Q quit-watch-later                           # Quit and save position
ctrl+c quit                                  # Force quit

# ===== CUSTOM: SHOW VRAM USAGE =====
# Shortcut to quickly check VRAM (shows page 4 of stats)
ctrl+v script-binding stats/display-page-4 ; show-text "VRAM Monitor Active - Press 'i' to close"

# ===== SMARTCOPYPASTE INTEGRATION =====
# These are handled by the SmartCopyPaste.lua script
# Ctrl+V = Paste URL from clipboard (defined in SmartCopyPaste.conf)
# Ctrl+C = Copy current playback URL/path (defined in SmartCopyPaste.conf)

# ===== HELP =====
# Show this help overlay
? script-message osd-message "Help: i=Stats | F1-F4=Profiles | Ctrl+V=Paste | Ctrl+H=HW Toggle | S=Screenshot" 5000
